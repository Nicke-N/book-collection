(this["webpackJsonpbook-collection"]=this["webpackJsonpbook-collection"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},33:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(20),s=n.n(r),i=(n(29),n(30),n(5)),o=n(2),l=n.n(o),d=n(3),u=n(11),j=n(0),m=c.a.createContext(),b=function(e){var t=e.children,n=Object(a.useState)({}),c=Object(u.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(null),o=Object(u.a)(i,2),l=o[0],d=o[1],b=Object(a.useState)(null),h=Object(u.a)(b,2),p=h[0],f=h[1],x=Object(a.useState)(null),O=Object(u.a)(x,2),v=O[0],g=O[1],N=Object(a.useState)(!1),y=Object(u.a)(N,2),k=y[0],E=y[1],w=Object(a.useState)(null),C=Object(u.a)(w,2),I=C[0],B=C[1],L=Object(a.useState)(null),R=Object(u.a)(L,2),S=R[0],A=R[1],_=Object(a.useState)(null),F=Object(u.a)(_,2),D=F[0],P=F[1],M=Object(a.useState)(null),T=Object(u.a)(M,2),U=T[0],z=T[1],J=Object(a.useState)(null),G=Object(u.a)(J,2),V=G[0],q=G[1];return Object(j.jsx)(m.Provider,{value:{collection:r,setCollection:s,authorized:l,setAuthorized:d,currentBook:p,setCurrentBook:f,userDetails:v,setUserDetails:g,remove:k,setRemove:E,filterOption:S,setFilterOption:A,searchVal:I,setSearchVal:B,userIP:D,setUserIP:P,currentLocation:U,setCurrentLocation:z,modalData:V,setModalData:q},children:t})},h=n(7);n(33);function p(e){return e.carousel?Object(j.jsxs)("div",{className:"book",children:[Object(j.jsx)(h.b,{to:"/collection/".concat(e.data._id),children:Object(j.jsx)("span",{children:Object(j.jsx)("img",{className:"cover",src:e.data.image,alt:"hehe"})})}),Object(j.jsxs)("div",{className:"cover-description hidden-book",children:[Object(j.jsx)("div",{children:e.data.title}),Object(j.jsx)("div",{children:e.data.author})]})]}):Object(j.jsxs)("div",{className:"collection",children:[Object(j.jsx)(h.b,{to:"/collection/".concat(e.data._id),children:Object(j.jsx)("span",{className:"",children:Object(j.jsx)("img",{className:"cover-collection",src:e.data.image,alt:"hehe"})})}),Object(j.jsxs)("div",{className:"cover-description hidden",children:[Object(j.jsx)("div",{children:e.data.title}),Object(j.jsx)("div",{children:e.data.author})]})]})}var f=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-type":"application/json"}},e.abrupt("return",fetch("https://serene-plateau-79418.herokuapp.com/collection/",t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-type":"application/json"}},e.abrupt("return",fetch("https://serene-plateau-79418.herokuapp.com/collection/".concat(t),n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"DELETE",headers:{"Content-type":"application/json",token:sessionStorage.getItem("token")}},e.abrupt("return",fetch("https://serene-plateau-79418.herokuapp.com/collection/".concat(t),n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"PATCH",headers:{"Content-type":"application/json",token:sessionStorage.getItem("token")},body:JSON.stringify(n)},e.abrupt("return",fetch("https://serene-plateau-79418.herokuapp.com/collection/".concat(t),a));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-type":"application/json",token:sessionStorage.getItem("token")},body:JSON.stringify(t)},e.next=3,fetch("https://serene-plateau-79418.herokuapp.com/collection/",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=(n(41),function(){return!!sessionStorage.getItem("token")}),y=function(){return document.getElementById("simpleModal").style.display="flex"},k=function(){return document.getElementById("simpleModal").style.display="none"},E=function(){var e=(new Date).getFullYear(),t=2010,n=document.getElementById("year");if(n)for(;t<=e;){(r=document.createElement("option")).setAttribute("value",t),r.textContent=t,n.appendChild(r),t++}var a=1,c=document.getElementById("month");if(c)for(;a<=12;){var r;(r=document.createElement("option")).setAttribute("value",a),r.textContent=a,c.appendChild(r),a++}},w=function(){return window.history.back()},C=function(){document.getElementById("genre-container").textContent="",document.getElementById("author").value="",document.getElementById("series").value="",document.getElementById("publisher").value="",document.getElementById("image").value="",document.getElementById("year").value="",document.getElementById("month").value="",document.getElementById("title").value=""};function I(){var e,t=Object(a.useContext)(m),n=t.collection,c=t.setCollection,r=t.searchVal,s=t.setSearchVal,i=t.filterOption,o=t.setFilterOption,u=(t.authorized,t.setAuthorized),b=t.currentBook;t.type;Object(a.useEffect)((function(){n&&0!==Object.keys(n).length||h(),N()&&u(!0),x(),O()}),[i,r]),Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){h()}),[b]);var h=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().then((function(e){return e.json()})).then((function(e){return c(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){i&&(document.getElementById("filter").value=i),r&&(document.getElementById("search").value=r)},O=function(){document.getElementById("filter").removeEventListener("mouseleave",v),document.getElementById("filter").addEventListener("mouseleave",v)},v=function(){return o(document.getElementById("filter").value)};return Object(j.jsxs)("div",{id:"list-container",children:[Object(j.jsxs)("div",{className:"top-container",children:[Object(j.jsx)("div",{id:"filterOptions",children:Object(j.jsxs)("select",{name:"filter",id:"filter",children:[Object(j.jsx)("option",{className:"option",value:"author",children:"Author"}),Object(j.jsx)("option",{className:"option",value:"title",children:"Title"}),Object(j.jsx)("option",{className:"option",value:"publisher",children:"Publisher"}),Object(j.jsx)("option",{className:"option",value:"genre",children:"Genre"})]})}),Object(j.jsx)("div",{id:"search-field",children:Object(j.jsx)("input",{id:"search",type:"text",maxLength:"50",onChange:function(e){var t=e.target.value;t=t.toLowerCase(),s(t),v()}})})]}),Object(j.jsx)("div",{className:"section-divider"}),Object(j.jsx)("div",{id:"book-list",children:r&&"genre"!==i?Object.entries(n).map((function(e){return e[1][i].toLowerCase().includes(r)?Object(j.jsx)(p,{data:e[1]},e[0]):null})):r&&"genre"===i?Object.entries(n).map((function(t,n){return e=!1,t[1].genre.map((function(n){if(n.toLowerCase().includes(r)&&!e)return e=!0,Object(j.jsx)(p,{data:t[1]},t[0])}))})):n&&Object.entries(n).map((function(e){return Object(j.jsx)(p,{data:e[1]},e[0])}))})]})}var B=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("https://serene-plateau-79418.herokuapp.com/user/register",n).then((function(e){return e.text()})).then((function(e){sessionStorage.setItem("registration","".concat(e))})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("https://serene-plateau-79418.herokuapp.com/user/login",n).then((function(e){return e.json()})).then((function(e){e.length>40?sessionStorage.setItem("token","Bearer ".concat(e)):e.length>20&&sessionStorage.setItem("error","".concat(e))})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-type":"application/json",token:sessionStorage.getItem("token"),user:t}},e.abrupt("return",fetch("https://serene-plateau-79418.herokuapp.com/user/",n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(d.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"PATCH",headers:{"Content-type":"application/json",token:sessionStorage.getItem("token")},body:JSON.stringify(n)},e.abrupt("return",fetch("https://serene-plateau-79418.herokuapp.com/user/".concat(t),a));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"DELETE",headers:{"Content-type":"application/json",token:sessionStorage.getItem("token")}},e.abrupt("return",fetch("https://serene-plateau-79418.herokuapp.com/user/".concat(t),n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=(n(42),n.p+"static/media/delete.e23797be.svg");function F(e){var t=Object(a.useContext)(m).setRemove;return Object(j.jsx)("button",{className:"profile-icon",onClick:function(){t(e.type),y()},children:Object(j.jsx)("img",{className:"delete-icon profile-icon",src:_,alt:"Icon is loading"})})}var D=n.p+"static/media/edit.3c70b537.svg";function P(){return Object(j.jsx)("button",{className:"profile-icon",onClick:y,children:Object(j.jsx)("img",{className:"profile-icon",src:D,alt:"icon is loading"})})}function M(){var e=Object(a.useContext)(m),t=e.authorized,n=e.setAuthorized,c=e.userDetails,r=e.setUserDetails,s=e.setModalData,i=e.modalData;N()&&n(!0),Object(a.useEffect)((function(){c||o(),s(c)}),[c]),Object(a.useEffect)((function(){i||s(c)}),[i]);var o=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R("nicke").then((function(e){return e.json()})).then((function(e){return r(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{id:"profile-container",children:[Object(j.jsx)("div",{className:"details-container",children:c&&Object.entries(c).map((function(e){return"goodReads"===e[0]||"instagram"===e[0]?Object(j.jsx)("div",{className:"user-detail",children:Object(j.jsxs)("a",{rel:"noreferrer noopener",target:"_blank",href:e[1],children:[e[0],": Visit my page! "]})},e[0]):"image"===e[0]?Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:"profile-img",src:e[1],alt:"URL has changed!"})},e[0]):"description"===e[0]?Object(j.jsx)("textarea",{className:"profile-description",defaultValue:e[1]},e[0]):"password"!==e[0]&&"__v"!==e[0]&&"_id"!==e[0]?Object(j.jsxs)("div",{className:"user-detail",children:[e[0],": ",e[1]]},e[0]):void 0}))}),t?Object(j.jsxs)("div",{id:"btn-container",children:[Object(j.jsx)(F,{type:"user"}),Object(j.jsx)(P,{})]}):null]})}n(43);function T(){return Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:"shelf",src:"https://media.istockphoto.com/photos/wood-plank-wall-texture-patterns-abstract-for-horizontal-light-brown-picture-id1184115548?k=6&m=1184115548&s=612x612&w=0&h=m1iscWe-O7Mj7yqfBO8GfNQOZbxmnd4hhpMQQhnHdPI=",alt:""})})}function U(){var e=Object(a.useContext)(m).collection,t=new Date,n=t.getMonth()+1,c=t.getFullYear(),r=["January","February","March","April","May","June","July","August","September","October","November","December"];if(e){var s=document.querySelectorAll(".book-carousel");if(s.length>0){var i=0;[].forEach.call(s,(function(t){var a=[];Object.entries(e).map((function(e){return e[1].monthRead===n-i&&e[1].yearRead===c?a.push(e[1]):null})),function(e,t){var n=e.querySelector(".carousel-book-list"),a=59,c=0,r=0,s=e.querySelector(".carousel-book-next"),i=e.querySelector(".carousel-book-prev");function o(){n.style.transform="translateX(-"+10*c+"vw)"}[].forEach.call(t,(function(e){r++,a+=60,n.style.width=a+"vw"})),i.onclick=function(){c<r-5&&(c++,o())},s.onclick=function(){c>0&&(c--,o())}}(t,a),i++}))}}return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{id:"carousel1",className:"carousel book-carousel",children:[Object(j.jsxs)("h2",{className:"carousel-title",children:[r[n-1]," ",c]}),Object(j.jsxs)("div",{className:"carousel_view",children:[Object(j.jsx)("span",{className:"carousel_control carousel-book-next",children:Object(j.jsx)("i",{className:"nav-icon",children:"previous"})}),Object(j.jsx)("span",{href:"#",className:"carousel_control carousel-book-prev",children:Object(j.jsx)("i",{className:"nav-icon",children:"next"})}),Object(j.jsx)("ul",{className:"book-list carousel-book-list",children:e&&Object.entries(e).map((function(e){if(e[1].monthRead===n&&e[1].yearRead===c)return Object(j.jsx)("li",{className:"book-list_item",children:Object(j.jsx)(p,{carousel:!0,data:e[1]})},e[0])}))})]})]}),Object(j.jsx)(T,{}),Object(j.jsxs)("div",{id:"carousel2",className:"carousel book-carousel",children:[Object(j.jsxs)("h2",{className:"carousel-title",children:[r[n-2]," ",c]}),Object(j.jsxs)("div",{className:"carousel_view",children:[Object(j.jsx)("span",{className:"carousel_control carousel-book-next",children:Object(j.jsx)("i",{className:"nav-icon",children:"previous"})}),Object(j.jsx)("span",{href:"#",className:"carousel_control carousel-book-prev",children:Object(j.jsx)("i",{className:"nav-icon",children:"next"})}),Object(j.jsx)("ul",{className:"book-list carousel-book-list",children:e&&Object.entries(e).map((function(e){if(e[1].monthRead===n-1&&e[1].yearRead===c)return Object(j.jsx)("li",{className:"book-list_item",children:Object(j.jsx)(p,{carousel:!0,number:e[0],data:e[1]})},e[0])}))})]})]}),Object(j.jsx)(T,{}),Object(j.jsxs)("div",{id:"carousel3",className:"carousel book-carousel",children:[Object(j.jsxs)("h2",{className:"carousel-title",children:[r[n-3]," ",c]}),Object(j.jsxs)("div",{className:"carousel_view",children:[Object(j.jsx)("span",{className:"carousel_control carousel-book-next",children:Object(j.jsx)("i",{className:"nav-icon",children:"previous"})}),Object(j.jsx)("span",{href:"#",className:"carousel_control carousel-book-prev",children:Object(j.jsx)("i",{className:"nav-icon",children:"next"})}),Object(j.jsx)("ul",{className:"book-list carousel-book-list",children:e&&Object.entries(e).map((function(e){if(e[1].monthRead===n-2&&e[1].yearRead===c)return Object(j.jsx)("li",{className:"book-list_item",children:Object(j.jsx)(p,{carousel:!0,number:e[0],data:e[1]})},e[0])}))})]})]}),Object(j.jsx)(T,{}),Object(j.jsxs)("div",{id:"carousel4",className:"carousel book-carousel",children:[Object(j.jsxs)("h2",{className:"carousel-title",children:[r[n-4]," ",c]}),Object(j.jsxs)("div",{className:"carousel_view",children:[Object(j.jsx)("span",{className:"carousel_control carousel-book-next",children:Object(j.jsx)("i",{className:"nav-icon",children:"previous"})}),Object(j.jsx)("span",{href:"#",className:"carousel_control carousel-book-prev",children:Object(j.jsx)("i",{className:"nav-icon",children:"next"})}),Object(j.jsx)("ul",{className:"book-list carousel-book-list",children:e&&Object.entries(e).map((function(e){if(e[1].monthRead===n-3&&e[1].yearRead===c)return Object(j.jsx)("li",{className:"book-list_item",children:Object(j.jsx)(p,{carousel:!0,number:e[0],data:e[1]})},e[0])}))})]})]}),Object(j.jsx)(T,{})]})}n(44);function z(e){var t=Object(a.useContext)(m).setCollection;Object(a.useEffect)((function(){n()}),[]);var n=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f().then((function(e){return e.json()})).then((function(e){return t(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{id:"collection-page",children:[Object(j.jsx)("div",{id:"top-container",children:Object(j.jsx)("div",{children:Object(j.jsx)("h1",{className:"latest-title",children:"Books read recently"})})}),Object(j.jsx)("div",{className:"section-divider"}),Object(j.jsx)(U,{})]})}n(45);function J(){return Object(j.jsxs)("div",{id:"credits-container",children:[Object(j.jsx)("h2",{id:"credit-title",children:"This website thanks following contributors!"}),Object(j.jsxs)("div",{className:"credit",children:["Icons made by",Object(j.jsx)("a",{rel:"noreferrer noopener",target:"_blank",href:"https://www.flaticon.com/authors/pixel-perfect",title:"Pixel perfect",children:" Pixel perfect "}),"from",Object(j.jsx)("a",{rel:"noreferrer noopener",target:"_blank",href:"https://www.flaticon.com/",title:"Flaticon",children:" www.flaticon.com"})]}),Object(j.jsxs)("div",{className:"credit",children:["Icons made by",Object(j.jsx)("a",{href:"#",title:"Kiranshastry",children:" Kiranshastry "}),"from",Object(j.jsx)("a",{rel:"noreferrer noopener",target:"_blank",href:"https://www.flaticon.com/",title:"Flaticon",children:" www.flaticon.com"})]}),Object(j.jsxs)("div",{className:"credit",children:["Icons made by",Object(j.jsx)("a",{rel:"noreferrer noopener",target:"_blank",href:"https://www.freepik.com",title:"Freepik",children:" Freepik "}),"from",Object(j.jsx)("a",{rel:"noreferrer noopener",target:"_blank",href:"https://www.flaticon.com/",title:"Flaticon",children:" www.flaticon.com"})]}),Object(j.jsxs)("div",{className:"credit",children:["Icons made by",Object(j.jsx)("a",{rel:"noreferrer noopener",target:"_blank",href:"https://www.freepik.com",title:"Freepik",children:" Freepik "}),"from",Object(j.jsx)("a",{rel:"noreferrer noopener",target:"_blank",href:"https://www.flaticon.com/",title:"Flaticon",children:" www.flaticon.com"})]})]})}n(46);function G(){return Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:"panel-plank",src:"https://media.istockphoto.com/photos/wood-plank-wall-texture-patterns-abstract-for-horizontal-light-brown-picture-id1184115548?k=6&m=1184115548&s=612x612&w=0&h=m1iscWe-O7Mj7yqfBO8GfNQOZbxmnd4hhpMQQhnHdPI=",alt:""})})}function V(){var e=Object(a.useContext)(m),t=e.authorized,n=e.setAuthorized,c=e.currentLocation,r=e.setModalData;Object(a.useEffect)((function(){}),[c]);return Object(j.jsxs)("div",{id:"navigation-panel",children:[Object(j.jsx)("div",{id:"general-section",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{to:"/",children:Object(j.jsx)("div",{className:"nav-text",children:"Collection"})})}),Object(j.jsx)(G,{}),Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{to:"/latest",children:Object(j.jsx)("div",{className:"nav-text",children:"Latest"})})}),Object(j.jsx)(G,{}),t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{to:"/profile",children:Object(j.jsx)("div",{className:"nav-text",children:"Profile"})})}),Object(j.jsx)(G,{})]}):null,Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{to:"/credits",children:Object(j.jsx)("div",{className:"nav-text",children:"Credits"})})}),Object(j.jsx)(G,{}),Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{onClick:w,children:Object(j.jsx)("div",{className:"nav-text",children:"Return"})})}),Object(j.jsx)(G,{})]})}),Object(j.jsx)("div",{children:Object(j.jsxs)("ul",{children:[t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{onClick:function(){n(null),sessionStorage.removeItem("token")},children:Object(j.jsx)("div",{className:"nav-text",children:"Logout"})})}),Object(j.jsx)(G,{})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{onClick:function(){r("login"),y()},children:Object(j.jsx)("div",{className:"nav-text",children:"Login"})})}),Object(j.jsx)(G,{})]}),Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{onClick:function(){r("register"),y()},children:Object(j.jsx)("div",{className:"nav-text",children:"Register"})})}),Object(j.jsx)(G,{})]})}),Object(j.jsx)("div",{id:"admin-section",children:t?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{onClick:function(){r("addNewBook"),y()},children:Object(j.jsx)("div",{className:"nav-text",children:"Add book"})})}),Object(j.jsx)(G,{})]})}):null})]})}function q(){var e=Object(a.useContext)(m).setCollection,t=[],n=null,c=document.getElementsByClassName("icon"),r=function(){for(var e=0;e<c.length;e++)c[e].addEventListener("mouseover",s),c[e].addEventListener("click",i),c[e].addEventListener("mouseleave",o);var t=document.getElementById("redo-image");t&&(document.getElementById("ratingContainer").removeChild(t),n=null)},s=function(e){var t,n;if(t=e.target.parentElement.children,n=Array.from(t).indexOf(e.currentTarget),Array.from(t[n].classList).length>2)for(var a=0;a<5;a++){var c=Array.from(e.target.parentElement.children[a].classList);a<=n&&e.target.parentElement.children?e.target.parentElement.children[a].classList.add("checked"):c.includes("checked")&&e.target.parentElement.children[a].classList.remove("checked")}},i=function e(t){var a,i;t.target.parentElement.children&&(a=t.target.parentElement.children),i=Array.from(a).indexOf(t.currentTarget);for(var l=0;l<c.length;l++)c[l].removeEventListener("mouseover",s),c[l].removeEventListener("mouseleave",o),c[l].removeEventListener("click",e);if(n=i+1,!document.getElementById("redo-image")){var d=document.createElement("img");d.src="https://image.flaticon.com/icons/png/512/44/44650.png",d.classList.add("redo-icon"),d.setAttribute("id","redo-image"),d.addEventListener("click",r),document.getElementById("ratingContainer").appendChild(d)}},o=function(e){if(e.target.parentElement.children.length>0)for(var t=0;t<5;t++){Array.from(e.target.parentElement.children[t].classList).includes("checked")&&e.target.parentElement.children[t].classList.remove("checked")}},u=function(){var a=Object(d.a)(l.a.mark((function a(){var c,r,s,i,o,d,u,j,m,b;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c={},r=document.getElementById("title").value,s=document.getElementById("author").value,i=document.getElementById("image").value,o=document.getElementById("series").value,d=document.getElementById("publisher").value,u=document.getElementById("month").value,j=document.getElementById("year").value,m=document.getElementById("genre-container").children,t=[],m.length>0)for(b=0;b<m.length;b++)t.push(m[b].textContent);return r.length>0&&(c.title=r),s.length>0&&(c.author=s),i.length>0&&(c.image=i),o.length>0&&(c.series=o),d.length>0&&(c.publisher=d),c.genre=t,c.monthRead=u,c.yearRead=j,c.personalRating=n||0,a.next=22,g(c);case 22:return a.next=24,f().then((function(e){return e.json()})).then((function(t){return e(t)})).then(k()).then((function(){C(),t=[]}));case 24:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),b=function(e){if("Enter"===e.code){var n=document.getElementById("genre"),a=document.getElementById("genre-container");n&&""!==n.value&&(t.push(n.value),n.value="",a&&(a.textContent="",console.log(t),t.map((function(e){var t=document.createElement("span");t.classList.add("detail-genre"),t.textContent="".concat(e),t.addEventListener("click",h),a.appendChild(t)}))))}},h=function(e){e.preventDefault(),e.target.parentNode.removeChild(e.target);var n=t.indexOf(e.target.value);t.splice(n,1)};return Object(a.useEffect)((function(){E();var e=document.getElementById("genre");e&&e.addEventListener("keydown",b),c&&setTimeout((function(){r()}),1e3)}),[]),Object(j.jsx)("div",{id:"edit-container",children:Object(j.jsxs)("div",{className:"edit-info",children:[Object(j.jsx)("label",{className:"book-label",children:"Title"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"title",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"book-label",children:"Author"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"author",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"book-label",children:"Publisher"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"publisher",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"book-label",children:"Genre"}),Object(j.jsx)("input",{className:"book-input edit-detail",type:"text",id:"genre"}),Object(j.jsx)("div",{id:"genre-container"}),Object(j.jsx)("label",{className:"book-label",children:"Series"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"series",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"book-label",children:"Year read"}),Object(j.jsx)("select",{className:"book-select edit-detail",name:"year",id:"year"}),Object(j.jsx)("label",{className:"book-label",children:"Month read"}),Object(j.jsx)("select",{className:"book-select edit-detail",name:"month",id:"month"}),Object(j.jsx)("label",{className:"book-label",children:"Image URL"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"image",type:"text",maxLength:"300"}),Object(j.jsxs)("div",{id:"ratingContainer",children:[Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"})]}),Object(j.jsx)("button",{onClick:u,className:"accept-btn modal-btn",children:"Add book"})]})})}n(47);function Q(e){var t=null,n=Object(a.useContext)(m),c=n.currentBook,r=n.authorized,s=n.setCurrentBook,i=n.userIP,o=c._id,u=[],b=function(){var e=Object(d.a)(l.a.mark((function e(){var n,a,c,j,m,b,h,p,f,O;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},r){if(a=document.getElementById("title").value,c=document.getElementById("author").value,j=document.getElementById("image").value,m=document.getElementById("series").value,b=document.getElementById("publisher").value,h=document.getElementById("month").value,p=document.getElementById("year").value,f=document.getElementById("genre-container").children,u=[],f.length>0)for(O=0;O<f.length;O++)u.push(f[O].textContent);a.length>0&&(n.title=a),c.length>0&&(n.author=c),j.length>0&&(n.image=j),m.length>0&&(n.series=m),b.length>0&&(n.publisher=b),n.genre=u,n.monthRead=h,n.yearRead=p,n.personalRating=t||0}else n.guestID=i.ip,n.rating=t||0;setTimeout(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(o,n);case 2:return e.next=4,x(o).then((function(e){return e.json()})).then((function(e){return s(e)})).then(k());case 4:case"end":return e.stop()}}),e)}))),1e3);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){for(var e=0;e<w.length;e++)w[e].addEventListener("mouseover",p),w[e].addEventListener("click",f),w[e].addEventListener("mouseleave",O);var n=document.getElementById("redo-image");n&&(document.getElementById("ratingContainer").removeChild(n),t=null)},p=function(e){var t,n;if(t=e.target.parentElement.children,n=Array.from(t).indexOf(e.currentTarget),Array.from(t[n].classList).length>2)for(var a=0;a<5;a++){var c=Array.from(e.target.parentElement.children[a].classList);a<=n&&e.target.parentElement.children?e.target.parentElement.children[a].classList.add("checked"):c.includes("checked")&&e.target.parentElement.children[a].classList.remove("checked")}},f=function e(n){var a,c;n.target.parentElement.children&&(a=n.target.parentElement.children),c=Array.from(a).indexOf(n.currentTarget);for(var r=0;r<w.length;r++)w[r].removeEventListener("mouseover",p),w[r].removeEventListener("mouseleave",O),w[r].removeEventListener("click",e);if(t=c+1,!document.getElementById("redo-image")){var s=document.createElement("img");s.src="https://image.flaticon.com/icons/png/512/44/44650.png",s.classList.add("redo-icon"),s.setAttribute("id","redo-image"),s.addEventListener("click",h),document.getElementById("ratingContainer").appendChild(s)}},O=function(e){if(e.target.parentElement.children.length>0)for(var t=0;t<5;t++){Array.from(e.target.parentElement.children[t].classList).includes("checked")&&e.target.parentElement.children[t].classList.remove("checked")}},g=function(e){e.preventDefault(),e.target.parentNode.removeChild(e.target);var t=u.indexOf(e.target.value);u.splice(t,1)},N=function(e){if("Enter"===e.code){var t=document.getElementById("genre"),n=document.getElementById("genre-container");t&&""!==t.value&&(u.push(t.value),t.value="",n&&(n.textContent="",u.map((function(e){var t=document.createElement("span");t.classList.add("detail-genre"),t.textContent="".concat(e),t.addEventListener("click",g),n.appendChild(t)}))))}},y=function(){E(),function(){var e=document.getElementById("title");if(e){C(),document.getElementById("author").value=c.author,document.getElementById("series").value=c.series,document.getElementById("publisher").value=c.publisher,document.getElementById("image").value=c.image,document.getElementById("year").value=c.yearRead,document.getElementById("month").value=c.monthRead,e.value=c.title,document.getElementById("author").value=c.author,document.getElementById("series").value=c.series,document.getElementById("publisher").value=c.publisher,document.getElementById("image").value=c.image,document.getElementById("year").value=c.yearRead,document.getElementById("month").value=c.monthRead;var t=document.getElementById("genre-container");c.genre&&c.genre.map((function(e){var n=document.createElement("span");n.classList.add("detail-genre"),n.textContent="".concat(e),u.push(e),n.addEventListener("click",g),t.appendChild(n)}))}}();var e=document.getElementById("genre");e&&e.addEventListener("keydown",N)},w=document.getElementsByClassName("icon");return w&&setTimeout((function(){h()}),1e3),Object(a.useEffect)((function(){y()}),[c]),Object(a.useEffect)((function(){}),[c]),Object(j.jsx)("div",{id:"edit-container",children:e.data?r?Object(j.jsxs)("div",{className:"edit-info",children:[Object(j.jsx)("label",{className:"book-label",children:"Title"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"title",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"book-label",children:"Author"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"author",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"book-label",children:"Publisher"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"publisher",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"book-label",children:"Genre"}),Object(j.jsx)("input",{className:"book-input edit-detail",type:"text",id:"genre"}),Object(j.jsx)("div",{id:"genre-container"}),Object(j.jsx)("label",{className:"book-label",children:"Series"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"series",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"book-label",children:"Year read"}),Object(j.jsx)("select",{className:"book-select edit-detail",name:"year",id:"year"}),Object(j.jsx)("label",{className:"book-label",children:"Month read"}),Object(j.jsx)("select",{className:"book-select edit-detail",name:"month",id:"month"}),Object(j.jsx)("label",{className:"book-label",children:"Image URL"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"image",type:"text",maxLength:"300"}),Object(j.jsxs)("div",{id:"ratingContainer",children:[Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"})]}),Object(j.jsx)("button",{onClick:b,className:"accept-btn modal-btn",children:"Update Book"})]}):Object(j.jsxs)("div",{id:"guestRatingContainer",children:[Object(j.jsxs)("div",{id:"ratingContainer",children:[Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"})]}),Object(j.jsx)("button",{onClick:b,className:"accept-btn modal-btn",children:"Rate!"})]}):null})}function Y(){var e=Object(a.useContext)(m),t=e.userDetails,n=e.setUserDetails;Object(a.useEffect)((function(){c()}),[]);var c=function(){Object.entries(t).map((function(e){"__v"!==e[0]&&"_id"!==e[0]&&"description"!==e[0]&&"password"!==e[0]&&(document.getElementById(e[0]).value=e[1])}))},r=function(){var e=Object(d.a)(l.a.mark((function e(a){var c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c=Array.from(a.target),r={},c.map((function(e){return e.value&&""!==e.value?r[e.id]=e.value:null})),e.next=6,S(t._id,r).then(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(r.username).then((function(e){return e.json()})).then((function(e){return n(e)})).then(k());case 2:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{id:"edit-container",children:Object(j.jsxs)("form",{onSubmit:r,className:"sign-container",children:[t?Object.entries(t).map((function(e){return"password"===e[0]?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"user-label",htmlFor:"oldPassword",children:"Old Password"}),Object(j.jsx)("input",{className:"user-input",maxLength:"20",type:"password",htmlFor:"oldPassword",id:"oldPassword"})]}),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"user-label",htmlFor:e[0],children:"New Password"}),Object(j.jsx)("input",{className:"user-input",maxLength:"20",type:"password",htmlFor:e[0],id:e[0]})]})]}):"description"===e[0]?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"user-label",htmlFor:e[0],children:e[0]}),Object(j.jsx)("textarea",{maxLength:"200",type:"text",htmlFor:e[0],id:e[0],defaultValue:t.description})]}):"goodReads"===e[0]||"instagram"===e[0]||"image"===e[0]?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"user-label",htmlFor:e[0],children:e[0]}),Object(j.jsx)("input",{className:"user-input",maxLength:"200",type:"text",htmlFor:e[0],id:e[0]})]}):"_id"!==e[0]&&"__v"!==e[0]?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"user-label",htmlFor:e[0],children:e[0]}),Object(j.jsx)("input",{className:"user-input",maxLength:"20",type:"text",htmlFor:e[0],id:e[0]})]}):void 0})):Object(j.jsx)("div",{children:"Error loading data"}),Object(j.jsx)("button",{type:"submit",className:"accept-btn sign-btn",name:"update",children:"Update User"})]})})}n(48),n(18);function H(){var e=Object(a.useContext)(m),t=e.userDetails,n=e.setRemove,c=e.setAuthorized,r=Object(i.f)(),s=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t._id);case 2:n(!1),k(),c(!1),sessionStorage.removeItem("token"),r.push("/register");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"remove-container",children:[Object(j.jsxs)("p",{className:"remove-text",children:["Are you sure you want to delete account: ",Object(j.jsx)("b",{children:t.username})," "]}),Object(j.jsxs)("div",{className:"remove-btn-container",children:[Object(j.jsx)("button",{className:"accept-btn",onClick:s,children:"Yes"}),Object(j.jsx)("button",{className:"reject-btn",onClick:function(){n(!1),k()},children:"No"})]})]})}function K(){var e=Object(a.useContext)(m),t=e.setRemove,n=e.currentBook,c=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(n._id).then(t(!1)).then(k()).then(w());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"remove-container",children:[Object(j.jsxs)("p",{className:"remove-text",children:["Are you sure you want to delete book ",Object(j.jsxs)("b",{children:[n.title," by ",n.author," ?"]})," "]}),Object(j.jsxs)("div",{className:"remove-btn-container",children:[Object(j.jsx)("button",{className:"accept-btn",onClick:c,children:"Yes"}),Object(j.jsx)("button",{className:"reject-btn",onClick:function(){t(!1),k()},children:"No"})]})]})}n(19);function W(){var e=Object(a.useContext)(m),t=e.setAuthorized,n=e.setModalData,c=function(){var e=Object(d.a)(l.a.mark((function e(a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c={username:a.target[0].value,password:a.target[1].value,name:a.target[2].value,email:a.target[3].value,instagram:a.target[4].value,goodReads:a.target[5].value,description:a.target[6].value},document.getElementById("error").textContent="",sessionStorage.removeItem("error"),e.next=6,B(c).then(Object(d.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("User was created!"!==(a=sessionStorage.getItem("registration"))){e.next=6;break}return e.next=4,L({username:c.username,password:c.password}).then(N()?t(!0):document.getElementById("error").textContent="Login failed for no reason!").then(n(null)).then(k());case 4:e.next=7;break;case 6:document.getElementById("error").textContent=a;case 7:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"sign-container",children:[Object(j.jsx)("div",{id:"error"}),Object(j.jsxs)("form",{onSubmit:c,className:"sign-container",children:[Object(j.jsx)("label",{className:"user-label",children:"Username"}),Object(j.jsx)("input",{className:"user-input",name:"username",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"user-label",children:"Password"}),Object(j.jsx)("input",{className:"user-input",name:"password",type:"password",maxLength:"15"}),Object(j.jsx)("label",{className:"user-label",children:"Name"}),Object(j.jsx)("input",{className:"user-input",name:"name",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"user-label",children:"Email"}),Object(j.jsx)("input",{className:"user-input",name:"email",type:"email",maxLength:"50"}),Object(j.jsx)("label",{className:"user-label",children:"instagram"}),Object(j.jsx)("input",{className:"user-input",name:"instagram",type:"text",maxLength:"200"}),Object(j.jsx)("label",{className:"user-label",children:"GoodReads"}),Object(j.jsx)("input",{className:"user-input",name:"goodReads",type:"text",maxLength:"200"}),Object(j.jsx)("label",{className:"user-label",children:"Description"}),Object(j.jsx)("textarea",{className:"user-text-area",name:"description",maxLength:"200"}),Object(j.jsx)("button",{type:"submit",name:"register",className:"accept-btn sign-btn",children:"Register"})]})]})}function Z(){var e=Object(a.useContext)(m),t=e.setAuthorized,n=e.setUserDetails,c=e.setModalData,r=function(){var e=Object(d.a)(l.a.mark((function e(a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r={username:a.target[0].value,password:a.target[1].value},document.getElementById("error").textContent="",sessionStorage.removeItem("error"),e.next=6,L(r).then(Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N()){e.next=7;break}return t(!0),k(),e.next=5,R("nicke").then((function(e){return e.json()})).then((function(e){return n(e)})).then(c(null));case 5:e.next=8;break;case 7:document.getElementById("error").textContent=sessionStorage.getItem("error");case 8:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"sign-container",children:[Object(j.jsx)("div",{id:"error"}),Object(j.jsxs)("form",{onSubmit:r,className:"sign-container",children:[Object(j.jsx)("label",{className:"user-label",children:"Username"}),Object(j.jsx)("input",{className:"user-input",name:"username",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"user-label",children:"Password"}),Object(j.jsx)("input",{className:"user-input",name:"password",type:"password",maxLength:"15"}),Object(j.jsx)("button",{className:"accept-btn sign-btn",type:"submit",name:"Login",children:"Login"})]})]})}function X(e){var t,n,c,r=Object(a.useContext)(m),s=r.setRemove,i=r.setModalData,o=r.remove;Object(a.useEffect)((function(){(c=document.getElementById("tradeHistory"))&&c.addEventListener("click",y),(n=document.getElementsByClassName("closeBtn")[0])&&n.addEventListener("click",(function(){t.style.display="none",s(!1),i(null)})),(t=document.getElementById("simpleModal"))&&window.addEventListener("click",l)}),[]);var l=function(e){e.target===t&&(s(!1),i(null),k())};return Object(j.jsx)("div",{children:Object(j.jsx)("div",{id:"simpleModal",className:"modal-overlay",children:Object(j.jsxs)("div",{className:"modal-content",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("span",{className:"closeBtn",children:" x "}),Object(j.jsx)("h2",{className:"modal-title",children:o&&"user"===o?"Remove user":o&&"book"===o?"Remove book":e.data&&e.data.title?"Edit book details":e.data&&e.data.email?"Edit user details":e.data&&"addNewBook"===e.data?"Add new Book":e.data&&"login"===e.data?"Login":e.data&&"register"===e.data?"Register":null})]}),Object(j.jsx)("div",{className:"modal-body",children:o&&e.data.username?Object(j.jsx)(H,{}):o&&e.data.title?Object(j.jsx)(K,{}):e.data&&e.data.title?Object(j.jsx)(Q,{data:e.data}):e.data&&e.data.email?Object(j.jsx)(Y,{}):e.data&&"addNewBook"===e.data?Object(j.jsx)(q,{}):e.data&&"login"===e.data?Object(j.jsx)(Z,{}):e.data&&"register"===e.data?Object(j.jsx)(W,{}):null})]})})})}n(49);function $(){var e=Object(a.useContext)(m),t=e.userDetails,n=e.setUserDetails,c=document.getElementById("panel-description");Object(a.useEffect)((function(){t||r()}),[t]);var r=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c&&(c.value=""),e.next=3,R("nicke").then((function(e){return e.json()})).then((function(e){return n(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{id:"user-info-panel",children:[t?Object(j.jsxs)("div",{id:"general-container",children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:"panel-img",src:t.image,alt:"Error loading image!"})}),Object(j.jsx)("div",{className:"general-info",children:t.name}),Object(j.jsx)(G,{}),Object(j.jsx)("div",{className:"general-info",children:t.email}),Object(j.jsx)(G,{}),Object(j.jsx)("div",{className:"general-info",children:Object(j.jsx)("a",{rel:"noreferrer noopener",target:"_blank",href:t.instagram,children:"@Instagram"})}),Object(j.jsx)(G,{}),Object(j.jsx)("div",{className:"general-info",children:Object(j.jsx)("a",{rel:"noreferrer noopener",target:"_blank",href:t.goodReads,children:"@GoodReads"})}),Object(j.jsx)(G,{}),Object(j.jsx)("textarea",{id:"panel-description",className:"general-info panel-description",cols:"10",rows:"10",defaultValue:t.description,readOnly:!0}),Object(j.jsx)(G,{})]}):null,Object(j.jsx)("div",{id:"admin-container"})]})}n(50);function ee(e){var t,n,c=e.match.params.id,r=Object(a.useContext)(m),s=r.authorized,i=r.setAuthorized,o=r.currentBook,u=r.setCurrentBook,b=r.setModalData,h=r.modalData,p=0;o&&(o.guestsRating.map((function(e){return p+=e.rating})),t=o.guestsRating.length,n=(p/(0===t?1:t)).toFixed(2));var f=function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N()&&i(!0),e.next=3,x(c).then((function(e){return e.json()})).then((function(e){u(e),b(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=document.getElementsByClassName("personal-detail-icon");if(e&&o){for(var t=0;t<5;t++)e[t].classList.remove("checked");for(var a=0;a<o.personalRating;a++)e[a].classList.add("checked")}var c=document.getElementsByClassName("guests-detail-icon");if(c&&o){for(var r=Math.floor(n),s=0;s<5;s++){Array.from(c[s].classList).includes("checked")&&c[s].classList.remove("checked")}for(var i=0;i<r;i++)c[i].classList.add("checked")}};return Object(a.useEffect)((function(){O()}),[o]),Object(a.useEffect)((function(){f(),O()}),[]),Object(a.useEffect)((function(){h||b(o)}),[h]),Object(j.jsx)("div",{className:"page-container",children:o&&Object(j.jsxs)("div",{className:"book-details-container",children:[Object(j.jsx)("img",{className:"detail-image",src:o.image,alt:"URL has changed!"}),Object(j.jsxs)("div",{className:"detail title",children:["Title: ",o.title]}),Object(j.jsxs)("div",{className:"detail author",children:["Author: ",o.author]}),Object(j.jsxs)("div",{className:"detail publisher",children:["Publisher: ",o.publisher]}),Object(j.jsxs)("div",{className:"detail series",children:["Series: ",o.series]}),Object(j.jsxs)("div",{className:"detail personalRating",children:["Personal Rating:",Object(j.jsx)("span",{className:"fa fa-star personal-detail-icon"}),Object(j.jsx)("span",{className:"fa fa-star personal-detail-icon"}),Object(j.jsx)("span",{className:"fa fa-star personal-detail-icon"}),Object(j.jsx)("span",{className:"fa fa-star personal-detail-icon"}),Object(j.jsx)("span",{className:"fa fa-star personal-detail-icon"})]}),Object(j.jsxs)("div",{className:"detail guestsRating",children:["Guests rating:",Object(j.jsx)("span",{className:"fa fa-star guests-detail-icon"}),Object(j.jsx)("span",{className:"fa fa-star guests-detail-icon"}),Object(j.jsx)("span",{className:"fa fa-star guests-detail-icon"}),Object(j.jsx)("span",{className:"fa fa-star guests-detail-icon"}),Object(j.jsx)("span",{className:"fa fa-star guests-detail-icon"}),"(".concat(n,")")]}),Object(j.jsxs)("div",{className:"detail genre",children:["Genre: ",o.genre.map((function(e){return" ".concat(e)}))]}),Object(j.jsxs)("div",{className:"detail guests",children:[t," votes"]}),Object(j.jsxs)("div",{className:"detail read",children:["Read: ",["January","February","March","April","May","June","July","August","September","October","November","December"][o.monthRead-1]," ",o.yearRead]}),s?Object(j.jsxs)("div",{className:"buttonContainer",children:[Object(j.jsx)(P,{}),Object(j.jsx)(F,{type:"book"})]}):Object(j.jsx)("div",{className:"buttonContainer",children:Object(j.jsx)("button",{className:"accept-btn guest-rate-btn",onClick:y,children:"Rate it!"})})]})})}var te=n(22);function ne(){return Object(j.jsx)("div",{className:"application",children:Object(j.jsxs)(te.a,{children:[Object(j.jsx)("meta",{charSet:"utf-8"}),Object(j.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}),Object(j.jsx)("script",{type:"application/javascript",src:"https://api.ipify.org?format=jsonp&callback=getIP"}),Object(j.jsx)("title",{children:"My Collection"})]})})}var ae=function(){var e=Object(a.useContext)(m),t=e.setUserIP,n=e.modalData;return Object(a.useEffect)((function(){fetch("https://api.ipify.org?format=json").then((function(e){return e.json()})).then((function(e){return t(e)}))}),[]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(ne,{}),Object(j.jsx)(V,{}),Object(j.jsx)($,{}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/collection/:id",component:ee}),Object(j.jsx)(i.a,{exact:!0,path:"/credits",component:J}),Object(j.jsx)(i.a,{exact:!0,path:"/latest",component:z}),Object(j.jsx)(i.a,{exact:!0,path:"/profile",component:M}),Object(j.jsx)(i.a,{exact:!0,path:"/",component:I})]}),Object(j.jsx)(X,{data:n})]})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,52)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(j.jsx)(h.a,{children:Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(b,{children:Object(j.jsx)(ae,{})})})}),document.getElementById("root")),ce()}},[[51,1,2]]]);
//# sourceMappingURL=main.dba86d65.chunk.js.map