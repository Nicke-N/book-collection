(this["webpackJsonpbook-collection"]=this["webpackJsonpbook-collection"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(19),r=n.n(s),i=(n(25),n(26),n(4)),o=n(2),l=n.n(o),u=n(3),d=(n(28),n(10)),j=n(0),m=c.a.createContext(),b=function(e){var t=e.children,n=Object(a.useState)({}),c=Object(d.a)(n,2),s=c[0],r=c[1],i=Object(a.useState)(null),o=Object(d.a)(i,2),l=o[0],u=o[1],b=Object(a.useState)(null),h=Object(d.a)(b,2),p=h[0],x=h[1],f=Object(a.useState)(null),O=Object(d.a)(f,2),v=O[0],g=O[1],N=Object(a.useState)(!1),y=Object(d.a)(N,2),k=y[0],E=y[1],w=Object(a.useState)(null),C=Object(d.a)(w,2),I=C[0],B=C[1],L=Object(a.useState)(null),R=Object(d.a)(L,2),S=R[0],A=R[1],D=Object(a.useState)(null),_=Object(d.a)(D,2),F=_[0],P=_[1],M=Object(a.useState)(null),T=Object(d.a)(M,2),U=T[0],z=T[1],J=Object(a.useState)(null),G=Object(d.a)(J,2),V=G[0],q=G[1];return Object(j.jsx)(m.Provider,{value:{collection:s,setCollection:r,authorized:l,setAuthorized:u,currentBook:p,setCurrentBook:x,userDetails:v,setUserDetails:g,remove:k,setRemove:E,filterOption:S,setFilterOption:A,searchVal:I,setSearchVal:B,userIP:F,setUserIP:P,currentLocation:U,setCurrentLocation:z,modalData:V,setModalData:q},children:t})},h=n(6);n(30);function p(e){return e.carousel?Object(j.jsxs)("div",{className:"book",children:[Object(j.jsx)(h.b,{to:"/collection/".concat(e.data._id),children:Object(j.jsx)("span",{children:Object(j.jsx)("img",{className:"cover",src:e.data.image,alt:"hehe"})})}),Object(j.jsxs)("div",{className:"cover-description hidden-book",children:[Object(j.jsx)("div",{children:e.data.title}),Object(j.jsx)("div",{children:e.data.author})]})]}):Object(j.jsxs)("div",{className:"collection",children:[Object(j.jsx)(h.b,{to:"/collection/".concat(e.data._id),children:Object(j.jsx)("span",{className:"",children:Object(j.jsx)("img",{className:"cover-collection",src:e.data.image,alt:"hehe"})})}),Object(j.jsxs)("div",{className:"cover-description hidden",children:[Object(j.jsx)("div",{children:e.data.title}),Object(j.jsx)("div",{children:e.data.author})]})]})}function x(){return Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:"shelf",src:"https://media.istockphoto.com/photos/wood-plank-wall-texture-patterns-abstract-for-horizontal-light-brown-picture-id1184115548?k=6&m=1184115548&s=612x612&w=0&h=m1iscWe-O7Mj7yqfBO8GfNQOZbxmnd4hhpMQQhnHdPI=",alt:""})})}function f(){var e=Object(a.useContext)(m).collection,t=new Date,n=t.getMonth()+1,c=t.getFullYear(),s=["January","February","March","April","May","June","July","August","September","October","November","December"];if(e){var r=document.querySelectorAll(".book-carousel");if(r.length>0){var i=0;[].forEach.call(r,(function(t){var a=[];Object.entries(e).map((function(e){return e[1].monthRead===n-i&&e[1].yearRead===c?a.push(e[1]):null})),function(e,t){var n=e.querySelector(".carousel-book-list"),a=59,c=0,s=0,r=e.querySelector(".carousel-book-next"),i=e.querySelector(".carousel-book-prev");function o(){n.style.transform="translateX(-"+10*c+"vw)"}[].forEach.call(t,(function(e){s++,a+=60,n.style.width=a+"vw"})),i.onclick=function(){c<s-5&&(c++,o())},r.onclick=function(){c>0&&(c--,o())}}(t,a),i++}))}}return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{id:"carousel1",className:"carousel book-carousel",children:[Object(j.jsxs)("h2",{className:"carousel-title",children:[s[n-1]," ",c]}),Object(j.jsxs)("div",{className:"carousel_view",children:[Object(j.jsx)("span",{className:"carousel_control carousel-book-next",children:Object(j.jsx)("i",{className:"nav-icon",children:"previous"})}),Object(j.jsx)("span",{href:"#",className:"carousel_control carousel-book-prev",children:Object(j.jsx)("i",{className:"nav-icon",children:"next"})}),Object(j.jsx)("ul",{className:"book-list carousel-book-list",children:e&&Object.entries(e).map((function(e){if(e[1].monthRead===n&&e[1].yearRead===c)return Object(j.jsx)("li",{className:"book-list_item",children:Object(j.jsx)(p,{carousel:!0,data:e[1]})},e[0])}))})]})]}),Object(j.jsx)(x,{}),Object(j.jsxs)("div",{id:"carousel2",className:"carousel book-carousel",children:[Object(j.jsxs)("h2",{className:"carousel-title",children:[s[n-2]," ",c]}),Object(j.jsxs)("div",{className:"carousel_view",children:[Object(j.jsx)("span",{className:"carousel_control carousel-book-next",children:Object(j.jsx)("i",{className:"nav-icon",children:"previous"})}),Object(j.jsx)("span",{href:"#",className:"carousel_control carousel-book-prev",children:Object(j.jsx)("i",{className:"nav-icon",children:"next"})}),Object(j.jsx)("ul",{className:"book-list carousel-book-list",children:e&&Object.entries(e).map((function(e){if(e[1].monthRead===n-1&&e[1].yearRead===c)return Object(j.jsx)("li",{className:"book-list_item",children:Object(j.jsx)(p,{carousel:!0,number:e[0],data:e[1]})},e[0])}))})]})]}),Object(j.jsx)(x,{}),Object(j.jsxs)("div",{id:"carousel3",className:"carousel book-carousel",children:[Object(j.jsxs)("h2",{className:"carousel-title",children:[s[n-3]," ",c]}),Object(j.jsxs)("div",{className:"carousel_view",children:[Object(j.jsx)("span",{className:"carousel_control carousel-book-next",children:Object(j.jsx)("i",{className:"nav-icon",children:"previous"})}),Object(j.jsx)("span",{href:"#",className:"carousel_control carousel-book-prev",children:Object(j.jsx)("i",{className:"nav-icon",children:"next"})}),Object(j.jsx)("ul",{className:"book-list carousel-book-list",children:e&&Object.entries(e).map((function(e){if(e[1].monthRead===n-2&&e[1].yearRead===c)return Object(j.jsx)("li",{className:"book-list_item",children:Object(j.jsx)(p,{carousel:!0,number:e[0],data:e[1]})},e[0])}))})]})]}),Object(j.jsx)(x,{}),Object(j.jsxs)("div",{id:"carousel4",className:"carousel book-carousel",children:[Object(j.jsxs)("h2",{className:"carousel-title",children:[s[n-4]," ",c]}),Object(j.jsxs)("div",{className:"carousel_view",children:[Object(j.jsx)("span",{className:"carousel_control carousel-book-next",children:Object(j.jsx)("i",{className:"nav-icon",children:"previous"})}),Object(j.jsx)("span",{href:"#",className:"carousel_control carousel-book-prev",children:Object(j.jsx)("i",{className:"nav-icon",children:"next"})}),Object(j.jsx)("ul",{className:"book-list carousel-book-list",children:e&&Object.entries(e).map((function(e){if(e[1].monthRead===n-3&&e[1].yearRead===c)return Object(j.jsx)("li",{className:"book-list_item",children:Object(j.jsx)(p,{carousel:!0,number:e[0],data:e[1]})},e[0])}))})]})]}),Object(j.jsx)(x,{})]})}var O=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"GET",headers:{"Content-type":"application/json"}},e.abrupt("return",fetch("https://serene-plateau-79418.herokuapp.com/collection/",t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-type":"application/json"}},e.abrupt("return",fetch("https://serene-plateau-79418.herokuapp.com/collection/".concat(t),n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"DELETE",headers:{"Content-type":"application/json",token:sessionStorage.getItem("token")}},e.abrupt("return",fetch("https://serene-plateau-79418.herokuapp.com/collection/".concat(t),n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"PATCH",headers:{"Content-type":"application/json",token:sessionStorage.getItem("token")},body:JSON.stringify(n)},e.abrupt("return",fetch("https://serene-plateau-79418.herokuapp.com/collection/".concat(t),a));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-type":"application/json",token:sessionStorage.getItem("token")},body:JSON.stringify(t)},e.next=3,fetch("https://serene-plateau-79418.herokuapp.com/collection/",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=(n(39),function(){return!!sessionStorage.getItem("token")}),E=function(){return document.getElementById("simpleModal").style.display="flex"},w=function(){return document.getElementById("simpleModal").style.display="none"},C=function(){var e=(new Date).getFullYear(),t=2010,n=document.getElementById("year");if(n)for(;t<=e;){(s=document.createElement("option")).setAttribute("value",t),s.textContent=t,n.appendChild(s),t++}var a=1,c=document.getElementById("month");if(c)for(;a<=12;){var s;(s=document.createElement("option")).setAttribute("value",a),s.textContent=a,c.appendChild(s),a++}},I=function(){return window.history.back()},B=function(){document.getElementById("genre-container").textContent="",document.getElementById("author").value="",document.getElementById("series").value="",document.getElementById("publisher").value="",document.getElementById("image").value="",document.getElementById("year").value="",document.getElementById("month").value="",document.getElementById("title").value=""};function L(){var e=Object(a.useContext)(m).setCollection,t=[],n=null,c=document.getElementsByClassName("icon"),s=function(){for(var e=0;e<c.length;e++)c[e].addEventListener("mouseover",r),c[e].addEventListener("click",i),c[e].addEventListener("mouseleave",o);var t=document.getElementById("redo-image");t&&(document.getElementById("ratingContainer").removeChild(t),n=null)},r=function(e){if(e.path[1].children.length>0){var t=e.path[1].children,n=Array.from(t).indexOf(e.currentTarget);if(Array.from(t[n].classList).length>2)for(var a=0;a<5;a++){var c=Array.from(e.path[1].children[a].classList);a<=n?e.path[1].children[a].classList.add("checked"):c.includes("checked")&&e.path[1].children[a].classList.remove("checked")}}},i=function e(t){for(var a=t.path[1].children,i=Array.from(a).indexOf(t.currentTarget),l=0;l<c.length;l++)c[l].removeEventListener("mouseover",r),c[l].removeEventListener("mouseleave",o),c[l].removeEventListener("click",e);if(!document.getElementById("redo-image")){var u=document.createElement("img");u.src="https://image.flaticon.com/icons/png/512/44/44650.png",u.classList.add("redo-icon"),u.setAttribute("id","redo-image"),u.addEventListener("click",s),document.getElementById("ratingContainer").appendChild(u)}n=i+1},o=function(e){if(e.path[1].children.length>0)for(var t=0;t<5;t++){Array.from(e.path[1].children[t].classList).includes("checked")&&e.path[1].children[t].classList.remove("checked")}},d=function(){var a=Object(u.a)(l.a.mark((function a(){var c,s,r,i,o,u,d,j,m,b;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c={},s=document.getElementById("title").value,r=document.getElementById("author").value,i=document.getElementById("image").value,o=document.getElementById("series").value,u=document.getElementById("publisher").value,d=document.getElementById("month").value,j=document.getElementById("year").value,m=document.getElementById("genre-container").children,t=[],m.length>0)for(b=0;b<m.length;b++)t.push(m[b].textContent);return s.length>0&&(c.title=s),r.length>0&&(c.author=r),i.length>0&&(c.image=i),o.length>0&&(c.series=o),u.length>0&&(c.publisher=u),c.genre=t,c.monthRead=d,c.yearRead=j,c.personalRating=n||0,a.next=22,y(c);case 22:return a.next=24,O().then((function(e){return e.json()})).then((function(t){return e(t)})).then(w()).then((function(){B(),t=[]}));case 24:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),b=function(e){if("Enter"===e.code){var n=document.getElementById("genre"),a=document.getElementById("genre-container");n&&""!==n.value&&(t.push(n.value),n.value="",a&&(a.textContent="",console.log(t),t.map((function(e){var t=document.createElement("span");t.classList.add("detail-genre"),t.textContent="".concat(e),t.addEventListener("click",h),a.appendChild(t)}))))}},h=function(e){e.preventDefault(),e.target.parentNode.removeChild(e.target);var n=t.indexOf(e.target.value);t.splice(n,1)};return Object(a.useEffect)((function(){C();var e=document.getElementById("genre");e&&e.addEventListener("keydown",b),c&&setTimeout((function(){s()}),1e3)}),[]),Object(j.jsx)("div",{id:"edit-container",children:Object(j.jsxs)("div",{className:"edit-info",children:[Object(j.jsx)("label",{className:"book-label",children:"Title"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"title",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"book-label",children:"Author"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"author",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"book-label",children:"Publisher"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"publisher",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"book-label",children:"Genre"}),Object(j.jsx)("input",{className:"book-input edit-detail",type:"text",id:"genre"}),Object(j.jsx)("div",{id:"genre-container"}),Object(j.jsx)("label",{className:"book-label",children:"Series"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"series",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"book-label",children:"Year read"}),Object(j.jsx)("select",{className:"book-select edit-detail",name:"year",id:"year"}),Object(j.jsx)("label",{className:"book-label",children:"Month read"}),Object(j.jsx)("select",{className:"book-select edit-detail",name:"month",id:"month"}),Object(j.jsx)("label",{className:"book-label",children:"Image URL"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"image",type:"text",maxLength:"300"}),Object(j.jsxs)("div",{id:"ratingContainer",children:[Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"})]}),Object(j.jsx)("button",{onClick:d,className:"accept-btn modal-btn",children:"Add book"})]})})}n(40);function R(e){var t=null,n=Object(a.useContext)(m),c=n.currentBook,s=n.authorized,r=n.setCurrentBook,i=n.userIP,o=c._id,d=[],b=function(){var e=Object(u.a)(l.a.mark((function e(){var n,a,c,j,m,b,h,p,x,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},s){if(a=document.getElementById("title").value,c=document.getElementById("author").value,j=document.getElementById("image").value,m=document.getElementById("series").value,b=document.getElementById("publisher").value,h=document.getElementById("month").value,p=document.getElementById("year").value,x=document.getElementById("genre-container").children,d=[],x.length>0)for(f=0;f<x.length;f++)d.push(x[f].textContent);a.length>0&&(n.title=a),c.length>0&&(n.author=c),j.length>0&&(n.image=j),m.length>0&&(n.series=m),b.length>0&&(n.publisher=b),n.genre=d,n.monthRead=h,n.yearRead=p,n.personalRating=t||0}else n.guestID=i.ip,n.rating=t||0;setTimeout(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(o,n);case 2:return e.next=4,v(o).then((function(e){return e.json()})).then((function(e){return r(e)})).then(w());case 4:case"end":return e.stop()}}),e)}))),1e3);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){for(var e=0;e<k.length;e++)k[e].addEventListener("mouseover",p),k[e].addEventListener("click",x),k[e].addEventListener("mouseleave",f);var n=document.getElementById("redo-image");n&&(document.getElementById("ratingContainer").removeChild(n),t=null)},p=function(e){if(e.path[1].children.length>0){var t=e.path[1].children,n=Array.from(t).indexOf(e.currentTarget);if(Array.from(t[n].classList).length>2)for(var a=0;a<5;a++){var c=Array.from(e.path[1].children[a].classList);a<=n?e.path[1].children[a].classList.add("checked"):c.includes("checked")&&e.path[1].children[a].classList.remove("checked")}}},x=function e(n){for(var a=n.path[1].children,c=Array.from(a).indexOf(n.currentTarget),s=0;s<k.length;s++)k[s].removeEventListener("mouseover",p),k[s].removeEventListener("mouseleave",f),k[s].removeEventListener("click",e);if(!document.getElementById("redo-image")){var r=document.createElement("img");r.src="https://image.flaticon.com/icons/png/512/44/44650.png",r.classList.add("redo-icon"),r.setAttribute("id","redo-image"),r.addEventListener("click",h),document.getElementById("ratingContainer").appendChild(r)}t=c+1},f=function(e){if(e.path[1].children.length>0)for(var t=0;t<5;t++){Array.from(e.path[1].children[t].classList).includes("checked")&&e.path[1].children[t].classList.remove("checked")}},O=function(e){e.preventDefault(),e.target.parentNode.removeChild(e.target);var t=d.indexOf(e.target.value);d.splice(t,1)},g=function(e){if("Enter"===e.code){var t=document.getElementById("genre"),n=document.getElementById("genre-container");t&&""!==t.value&&(d.push(t.value),t.value="",n&&(n.textContent="",d.map((function(e){var t=document.createElement("span");t.classList.add("detail-genre"),t.textContent="".concat(e),t.addEventListener("click",O),n.appendChild(t)}))))}},y=function(){C(),function(){var e=document.getElementById("title");if(e){B(),document.getElementById("author").value=c.author,document.getElementById("series").value=c.series,document.getElementById("publisher").value=c.publisher,document.getElementById("image").value=c.image,document.getElementById("year").value=c.yearRead,document.getElementById("month").value=c.monthRead,e.value=c.title,document.getElementById("author").value=c.author,document.getElementById("series").value=c.series,document.getElementById("publisher").value=c.publisher,document.getElementById("image").value=c.image,document.getElementById("year").value=c.yearRead,document.getElementById("month").value=c.monthRead;var t=document.getElementById("genre-container");c.genre&&c.genre.map((function(e){var n=document.createElement("span");n.classList.add("detail-genre"),n.textContent="".concat(e),d.push(e),n.addEventListener("click",O),t.appendChild(n)}))}}();var e=document.getElementById("genre");e&&e.addEventListener("keydown",g)},k=document.getElementsByClassName("icon");return k&&setTimeout((function(){h()}),1e3),Object(a.useEffect)((function(){y()}),[c]),Object(a.useEffect)((function(){}),[c]),Object(j.jsx)("div",{id:"edit-container",children:e.data?s?Object(j.jsxs)("div",{className:"edit-info",children:[Object(j.jsx)("label",{className:"book-label",children:"Title"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"title",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"book-label",children:"Author"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"author",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"book-label",children:"Publisher"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"publisher",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"book-label",children:"Genre"}),Object(j.jsx)("input",{className:"book-input edit-detail",type:"text",id:"genre"}),Object(j.jsx)("div",{id:"genre-container"}),Object(j.jsx)("label",{className:"book-label",children:"Series"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"series",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"book-label",children:"Year read"}),Object(j.jsx)("select",{className:"book-select edit-detail",name:"year",id:"year"}),Object(j.jsx)("label",{className:"book-label",children:"Month read"}),Object(j.jsx)("select",{className:"book-select edit-detail",name:"month",id:"month"}),Object(j.jsx)("label",{className:"book-label",children:"Image URL"}),Object(j.jsx)("input",{className:"book-input edit-detail",id:"image",type:"text",maxLength:"300"}),Object(j.jsxs)("div",{id:"ratingContainer",children:[Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"})]}),Object(j.jsx)("button",{onClick:b,className:"accept-btn modal-btn",children:"Update Book"})]}):Object(j.jsxs)("div",{id:"guestRatingContainer",children:[Object(j.jsxs)("div",{id:"ratingContainer",children:[Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"}),Object(j.jsx)("span",{className:"fa fa-star icon"})]}),Object(j.jsx)("button",{onClick:b,className:"accept-btn modal-btn",children:"Rate!"})]}):null})}var S=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("https://serene-plateau-79418.herokuapp.com/user/register",n).then((function(e){return e.text()})).then((function(e){sessionStorage.setItem("registration","".concat(e))})).catch((function(e){return console.log(e)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(t)},e.next=3,fetch("https://serene-plateau-79418.herokuapp.com/user/login",n).then((function(e){return e.json()})).then((function(e){e.length>40?sessionStorage.setItem("token","Bearer ".concat(e)):e.length>20&&sessionStorage.setItem("error","".concat(e))})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",headers:{"Content-type":"application/json",token:sessionStorage.getItem("token"),user:t}},e.abrupt("return",fetch("https://serene-plateau-79418.herokuapp.com/user/",n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"PATCH",headers:{"Content-type":"application/json",token:sessionStorage.getItem("token")},body:JSON.stringify(n)},e.abrupt("return",fetch("https://serene-plateau-79418.herokuapp.com/user/".concat(t),a));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"DELETE",headers:{"Content-type":"application/json",token:sessionStorage.getItem("token")}},e.abrupt("return",fetch("https://serene-plateau-79418.herokuapp.com/user/".concat(t),n));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function P(){var e=Object(a.useContext)(m),t=e.userDetails,n=e.setUserDetails;Object(a.useEffect)((function(){c()}),[]);var c=function(){Object.entries(t).map((function(e){"__v"!==e[0]&&"_id"!==e[0]&&"description"!==e[0]&&"password"!==e[0]&&(document.getElementById(e[0]).value=e[1])}))},s=function(){var e=Object(u.a)(l.a.mark((function e(a){var c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c=Array.from(a.target),s={},c.map((function(e){return e.value&&""!==e.value?s[e.id]=e.value:null})),e.next=6,_(t._id,s).then(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(s.username).then((function(e){return e.json()})).then((function(e){return n(e)})).then(w());case 2:case"end":return e.stop()}}),e)}))));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{id:"edit-container",children:Object(j.jsxs)("form",{onSubmit:s,className:"sign-container",children:[t?Object.entries(t).map((function(e){return"password"===e[0]?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"user-label",htmlFor:"oldPassword",children:"Old Password"}),Object(j.jsx)("input",{className:"user-input",maxLength:"20",type:"password",htmlFor:"oldPassword",id:"oldPassword"})]}),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"user-label",htmlFor:e[0],children:"New Password"}),Object(j.jsx)("input",{className:"user-input",maxLength:"20",type:"password",htmlFor:e[0],id:e[0]})]})]}):"description"===e[0]?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"user-label",htmlFor:e[0],children:e[0]}),Object(j.jsx)("textarea",{maxLength:"200",type:"text",htmlFor:e[0],id:e[0],defaultValue:t.description})]}):"goodReads"===e[0]||"instagram"===e[0]||"image"===e[0]?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"user-label",htmlFor:e[0],children:e[0]}),Object(j.jsx)("input",{className:"user-input",maxLength:"200",type:"text",htmlFor:e[0],id:e[0]})]}):"_id"!==e[0]&&"__v"!==e[0]?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("label",{className:"user-label",htmlFor:e[0],children:e[0]}),Object(j.jsx)("input",{className:"user-input",maxLength:"20",type:"text",htmlFor:e[0],id:e[0]})]}):void 0})):Object(j.jsx)("div",{children:"Error loading data"}),Object(j.jsx)("button",{type:"submit",className:"accept-btn sign-btn",name:"update",children:"Update User"})]})})}n(41),n(17);function M(){var e=Object(a.useContext)(m),t=e.userDetails,n=e.setRemove,c=e.setAuthorized,s=Object(i.f)(),r=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t._id);case 2:n(!1),w(),c(!1),sessionStorage.removeItem("token"),s.push("/register");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"remove-container",children:[Object(j.jsxs)("p",{className:"remove-text",children:["Are you sure you want to delete account: ",Object(j.jsx)("b",{children:t.username})," "]}),Object(j.jsxs)("div",{className:"remove-btn-container",children:[Object(j.jsx)("button",{className:"accept-btn",onClick:r,children:"Yes"}),Object(j.jsx)("button",{className:"reject-btn",onClick:function(){n(!1),w()},children:"No"})]})]})}function T(){var e=Object(a.useContext)(m),t=e.setRemove,n=e.currentBook,c=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n._id).then(t(!1)).then(w()).then(I());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"remove-container",children:[Object(j.jsxs)("p",{className:"remove-text",children:["Are you sure you want to delete book ",Object(j.jsxs)("b",{children:[n.title," by ",n.author," ?"]})," "]}),Object(j.jsxs)("div",{className:"remove-btn-container",children:[Object(j.jsx)("button",{className:"accept-btn",onClick:c,children:"Yes"}),Object(j.jsx)("button",{className:"reject-btn",onClick:function(){t(!1),w()},children:"No"})]})]})}n(18);function U(){var e=Object(a.useContext)(m),t=e.setAuthorized,n=e.setModalData,c=function(){var e=Object(u.a)(l.a.mark((function e(a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c={username:a.target[0].value,password:a.target[1].value,name:a.target[2].value,email:a.target[3].value,instagram:a.target[4].value,goodReads:a.target[5].value,description:a.target[6].value},e.next=4,S(c).then(Object(u.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("User was created!"!==(a=sessionStorage.getItem("registration"))){e.next=6;break}return e.next=4,A({username:c.username,password:c.password}).then(k()?t(!0):document.getElementById("error").textContent="Login failed for no reason!").then(n(null)).then(w());case 4:e.next=7;break;case 6:document.getElementById("error").textContent=a;case 7:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"sign-container",children:[Object(j.jsx)("div",{id:"error"}),Object(j.jsxs)("form",{onSubmit:c,className:"sign-container",children:[Object(j.jsx)("label",{className:"user-label",children:"Username"}),Object(j.jsx)("input",{className:"user-input",name:"username",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"user-label",children:"Password"}),Object(j.jsx)("input",{className:"user-input",name:"password",type:"password",maxLength:"15"}),Object(j.jsx)("label",{className:"user-label",children:"Name"}),Object(j.jsx)("input",{className:"user-input",name:"name",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"user-label",children:"Email"}),Object(j.jsx)("input",{className:"user-input",name:"email",type:"email",maxLength:"50"}),Object(j.jsx)("label",{className:"user-label",children:"instagram"}),Object(j.jsx)("input",{className:"user-input",name:"instagram",type:"text",maxLength:"200"}),Object(j.jsx)("label",{className:"user-label",children:"GoodReads"}),Object(j.jsx)("input",{className:"user-input",name:"goodReads",type:"text",maxLength:"200"}),Object(j.jsx)("label",{className:"user-label",children:"Description"}),Object(j.jsx)("textarea",{className:"user-text-area",name:"description",maxLength:"200"}),Object(j.jsx)("button",{type:"submit",name:"register",className:"accept-btn sign-btn",children:"Register"})]})]})}function z(){var e=Object(a.useContext)(m),t=e.setAuthorized,n=e.setUserDetails,c=e.setModalData,s=function(){var e=Object(u.a)(l.a.mark((function e(a){var s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),s={username:a.target[0].value,password:a.target[1].value},e.next=4,A(s).then(Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k()){e.next=7;break}return t(!0),w(),e.next=5,D("nicke").then((function(e){return e.json()})).then((function(e){return n(e)})).then(c(null));case 5:e.next=8;break;case 7:document.getElementById("error").textContent=sessionStorage.getItem("error");case 8:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"sign-container",children:[Object(j.jsx)("div",{id:"error"}),Object(j.jsxs)("form",{onSubmit:s,className:"sign-container",children:[Object(j.jsx)("label",{className:"user-label",children:"Username"}),Object(j.jsx)("input",{className:"user-input",name:"username",type:"text",maxLength:"15"}),Object(j.jsx)("label",{className:"user-label",children:"Password"}),Object(j.jsx)("input",{className:"user-input",name:"password",type:"password",maxLength:"15"}),Object(j.jsx)("button",{className:"accept-btn sign-btn",type:"submit",name:"Login",children:"Login"})]})]})}function J(e){var t,n,c,s=Object(a.useContext)(m),r=s.setRemove,i=s.setModalData,o=s.remove;Object(a.useEffect)((function(){(c=document.getElementById("tradeHistory"))&&c.addEventListener("click",E),(n=document.getElementsByClassName("closeBtn")[0])&&n.addEventListener("click",(function(){t.style.display="none",r(!1),i(null)})),(t=document.getElementById("simpleModal"))&&window.addEventListener("click",l)}),[]);var l=function(e){e.target===t&&(r(!1),i(null),w())};return Object(j.jsx)("div",{children:Object(j.jsx)("div",{id:"simpleModal",className:"modal-overlay",children:Object(j.jsxs)("div",{className:"modal-content",children:[Object(j.jsxs)("div",{className:"modal-header",children:[Object(j.jsx)("span",{className:"closeBtn",children:" x "}),Object(j.jsx)("h2",{className:"modal-title",children:o&&"user"===o?"Remove user":o&&"book"===o?"Remove book":e.data&&e.data.title?"Edit book details":e.data&&e.data.email?"Edit user details":e.data&&"addNewBook"===e.data?"Add new Book":e.data&&"login"===e.data?"Login":e.data&&"register"===e.data?"Register":null})]}),Object(j.jsx)("div",{className:"modal-body",children:o&&e.data.username?Object(j.jsx)(M,{}):o&&e.data.title?Object(j.jsx)(T,{}):e.data&&e.data.title?Object(j.jsx)(R,{data:e.data}):e.data&&e.data.email?Object(j.jsx)(P,{}):e.data&&"addNewBook"===e.data?Object(j.jsx)(L,{}):e.data&&"login"===e.data?Object(j.jsx)(z,{}):e.data&&"register"===e.data?Object(j.jsx)(U,{}):null})]})})})}function G(e){var t=Object(a.useContext)(m).setCollection;Object(a.useEffect)((function(){n()}),[]);var n=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O().then((function(e){return e.json()})).then((function(e){return t(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{id:"collection-page",children:[Object(j.jsx)("div",{id:"top-container",children:Object(j.jsx)("div",{children:Object(j.jsx)("h1",{className:"latest-title",children:"Books read recently"})})}),Object(j.jsx)("div",{className:"section-divider"}),Object(j.jsx)(f,{})]})}n(42);var V=n.p+"static/media/edit.3c70b537.svg";function q(){return Object(j.jsx)("button",{className:"profile-icon",onClick:E,children:Object(j.jsx)("img",{className:"profile-icon",src:V,alt:"icon is loading"})})}var Q=n.p+"static/media/delete.e23797be.svg";function Y(e){var t=Object(a.useContext)(m).setRemove;return Object(j.jsx)("button",{className:"profile-icon",onClick:function(){t(e.type),E()},children:Object(j.jsx)("img",{className:"delete-icon profile-icon",src:Q,alt:"Icon is loading"})})}function H(e){var t,n,c=e.match.params.id,s=Object(a.useContext)(m),r=s.authorized,i=s.setAuthorized,o=s.currentBook,d=s.setCurrentBook,b=s.setModalData,h=s.modalData,p=0;o&&(o.guestsRating.map((function(e){return p+=e.rating})),t=o.guestsRating.length,n=(p/(0===t?1:t)).toFixed(2));var x=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k()&&i(!0),e.next=3,v(c).then((function(e){return e.json()})).then((function(e){d(e),b(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=document.getElementsByClassName("personal-detail-icon");if(e&&o){for(var t=0;t<5;t++)e[t].classList.remove("checked");for(var a=0;a<o.personalRating;a++)e[a].classList.add("checked")}var c=document.getElementsByClassName("guests-detail-icon");if(c&&o){for(var s=Math.floor(n),r=0;r<5;r++){Array.from(c[r].classList).includes("checked")&&c[r].classList.remove("checked")}for(var i=0;i<s;i++)c[i].classList.add("checked")}};return Object(a.useEffect)((function(){f()}),[o]),Object(a.useEffect)((function(){x(),f()}),[]),Object(a.useEffect)((function(){h||b(o)}),[h]),Object(j.jsx)("div",{className:"page-container",children:o&&Object(j.jsxs)("div",{className:"book-details-container",children:[Object(j.jsx)("img",{className:"detail-image",src:o.image,alt:"URL has changed!"}),Object(j.jsxs)("div",{className:"detail title",children:["Title: ",o.title]}),Object(j.jsxs)("div",{className:"detail author",children:["Author: ",o.author]}),Object(j.jsxs)("div",{className:"detail publisher",children:["Publisher: ",o.publisher]}),Object(j.jsxs)("div",{className:"detail series",children:["Series: ",o.series]}),Object(j.jsxs)("div",{className:"detail personalRating",children:["Personal Rating:",Object(j.jsx)("span",{className:"fa fa-star personal-detail-icon"}),Object(j.jsx)("span",{className:"fa fa-star personal-detail-icon"}),Object(j.jsx)("span",{className:"fa fa-star personal-detail-icon"}),Object(j.jsx)("span",{className:"fa fa-star personal-detail-icon"}),Object(j.jsx)("span",{className:"fa fa-star personal-detail-icon"})]}),Object(j.jsxs)("div",{className:"detail guestsRating",children:["Guests rating:",Object(j.jsx)("span",{className:"fa fa-star guests-detail-icon"}),Object(j.jsx)("span",{className:"fa fa-star guests-detail-icon"}),Object(j.jsx)("span",{className:"fa fa-star guests-detail-icon"}),Object(j.jsx)("span",{className:"fa fa-star guests-detail-icon"}),Object(j.jsx)("span",{className:"fa fa-star guests-detail-icon"}),"(".concat(n,")")]}),Object(j.jsxs)("div",{className:"detail genre",children:["Genre: ",o.genre.map((function(e){return" ".concat(e)}))]}),Object(j.jsxs)("div",{className:"detail guests",children:[t," votes"]}),Object(j.jsxs)("div",{className:"detail read",children:["Read: ",["January","February","March","April","May","June","July","August","September","October","November","December"][o.monthRead-1]," ",o.yearRead]}),r?Object(j.jsxs)("div",{className:"buttonContainer",children:[Object(j.jsx)(q,{}),Object(j.jsx)(Y,{type:"book"})]}):Object(j.jsx)("div",{className:"buttonContainer",children:Object(j.jsx)("button",{className:"accept-btn guest-rate-btn",onClick:E,children:"Rate it!"})})]})})}function W(){return Object(j.jsxs)("header",{children:[Object(j.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}),Object(j.jsx)("script",{type:"application/javascript",src:"https://api.ipify.org?format=jsonp&callback=getIP"})]})}n(43);function Z(){var e=Object(a.useContext)(m),t=e.authorized,n=e.setAuthorized,c=e.userDetails,s=e.setUserDetails,r=e.setModalData,i=e.modalData;k()&&n(!0),Object(a.useEffect)((function(){c||o(),r(c)}),[c]),Object(a.useEffect)((function(){i||r(c)}),[i]);var o=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("nicke").then((function(e){return e.json()})).then((function(e){return s(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{id:"profile-container",children:[Object(j.jsx)("div",{className:"details-container",children:c&&Object.entries(c).map((function(e){return"goodReads"===e[0]||"instagram"===e[0]?Object(j.jsx)("div",{className:"user-detail",children:Object(j.jsxs)("a",{rel:"noreferrer noopener",target:"_blank",href:e[1],children:[e[0],": Visit my page! "]})},e[0]):"image"===e[0]?Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:"profile-img",src:e[1],alt:"URL has changed!"})},e[0]):"description"===e[0]?Object(j.jsx)("textarea",{className:"profile-description",defaultValue:e[1]},e[0]):"password"!==e[0]&&"__v"!==e[0]&&"_id"!==e[0]?Object(j.jsxs)("div",{className:"user-detail",children:[e[0],": ",e[1]]},e[0]):void 0}))}),t?Object(j.jsxs)("div",{id:"btn-container",children:[Object(j.jsx)(Y,{type:"user"}),Object(j.jsx)(q,{})]}):null]})}n(44);function X(){var e,t=Object(a.useContext)(m),n=t.collection,c=t.setCollection,s=t.searchVal,r=t.setSearchVal,i=t.filterOption,o=t.setFilterOption,d=(t.authorized,t.setAuthorized),b=t.currentBook;t.type;Object(a.useEffect)((function(){n&&0!==Object.keys(n).length||h(),k()&&d(!0),x(),f()}),[i,s]),Object(a.useEffect)((function(){}),[]),Object(a.useEffect)((function(){h()}),[b]);var h=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O().then((function(e){return e.json()})).then((function(e){return c(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){i&&(document.getElementById("filter").value=i),s&&(document.getElementById("search").value=s)},f=function(){document.getElementById("filter").removeEventListener("mouseleave",v),document.getElementById("filter").addEventListener("mouseleave",v)},v=function(){return o(document.getElementById("filter").value)};return Object(j.jsxs)("div",{id:"list-container",children:[Object(j.jsxs)("div",{className:"top-container",children:[Object(j.jsx)("div",{id:"filterOptions",children:Object(j.jsxs)("select",{name:"filter",id:"filter",children:[Object(j.jsx)("option",{className:"option",value:"author",children:"Author"}),Object(j.jsx)("option",{className:"option",value:"title",children:"Title"}),Object(j.jsx)("option",{className:"option",value:"publisher",children:"Publisher"}),Object(j.jsx)("option",{className:"option",value:"genre",children:"Genre"})]})}),Object(j.jsx)("div",{id:"search-field",children:Object(j.jsx)("input",{id:"search",type:"text",maxLength:"50",onChange:function(e){var t=e.target.value;t=t.toLowerCase(),r(t),v()}})})]}),Object(j.jsx)("div",{className:"section-divider"}),Object(j.jsx)("div",{id:"book-list",children:s&&"genre"!==i?Object.entries(n).map((function(e){return e[1][i].toLowerCase().includes(s)?Object(j.jsx)(p,{data:e[1]},e[0]):null})):s&&"genre"===i?Object.entries(n).map((function(t,n){return e=!1,t[1].genre.map((function(n){if(n.toLowerCase().includes(s)&&!e)return e=!0,Object(j.jsx)(p,{data:t[1]},t[0])}))})):n&&Object.entries(n).map((function(e){return Object(j.jsx)(p,{data:e[1]},e[0])}))})]})}n(45);function K(){return Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:"panel-plank",src:"https://media.istockphoto.com/photos/wood-plank-wall-texture-patterns-abstract-for-horizontal-light-brown-picture-id1184115548?k=6&m=1184115548&s=612x612&w=0&h=m1iscWe-O7Mj7yqfBO8GfNQOZbxmnd4hhpMQQhnHdPI=",alt:""})})}function $(e){var t=Object(a.useContext)(m),n=t.authorized,c=t.setAuthorized,s=t.currentLocation,r=t.setModalData;Object(a.useEffect)((function(){}),[s]);return Object(j.jsxs)("div",{id:"navigation-panel",children:[Object(j.jsx)("div",{id:"general-section",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{to:"/",children:Object(j.jsx)("div",{className:"nav-text",children:"Collection"})})}),Object(j.jsx)(K,{}),Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{to:"/latest",children:Object(j.jsx)("div",{className:"nav-text",children:"Latest"})})}),Object(j.jsx)(K,{}),n?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{to:"/profile",children:Object(j.jsx)("div",{className:"nav-text",children:"Profile"})})}),Object(j.jsx)(K,{})]}):null,Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{onClick:I,children:Object(j.jsx)("div",{className:"nav-text",children:"Return"})})}),Object(j.jsx)(K,{})]})}),Object(j.jsx)("div",{children:Object(j.jsxs)("ul",{children:[n?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{onClick:function(){c(null),sessionStorage.removeItem("token")},children:Object(j.jsx)("div",{className:"nav-text",children:"Logout"})})}),Object(j.jsx)(K,{})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{onClick:function(){r("login"),E()},children:Object(j.jsx)("div",{className:"nav-text",children:"Login"})})}),Object(j.jsx)(K,{})]}),Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{onClick:function(){r("register"),E()},children:Object(j.jsx)("div",{className:"nav-text",children:"Register"})})}),Object(j.jsx)(K,{})]})}),Object(j.jsx)("div",{id:"admin-section",children:n?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(h.b,{onClick:function(){r("addNewBook"),E()},children:Object(j.jsx)("div",{className:"nav-text",children:"Add book"})})}),Object(j.jsx)(K,{})]})}):null})]})}n(46);function ee(){var e=Object(a.useContext)(m),t=e.userDetails,n=e.setUserDetails,c=document.getElementById("panel-description");Object(a.useEffect)((function(){t||s()}),[t]);var s=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c&&(c.value=""),e.next=3,D("nicke").then((function(e){return e.json()})).then((function(e){return n(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{id:"user-info-panel",children:[t?Object(j.jsxs)("div",{id:"general-container",children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:"panel-img",src:t.image,alt:"Error loading image!"})}),Object(j.jsx)("div",{className:"general-info",children:t.name}),Object(j.jsx)(K,{}),Object(j.jsx)("div",{className:"general-info",children:t.email}),Object(j.jsx)(K,{}),Object(j.jsx)("div",{className:"general-info",children:Object(j.jsx)("a",{rel:"noreferrer noopener",target:"_blank",href:t.instagram,children:"@Instagram"})}),Object(j.jsx)(K,{}),Object(j.jsx)("div",{className:"general-info",children:Object(j.jsx)("a",{rel:"noreferrer noopener",target:"_blank",href:t.goodReads,children:"@GoodReads"})}),Object(j.jsx)(K,{}),Object(j.jsx)("textarea",{id:"panel-description",className:"general-info panel-description",cols:"10",rows:"10",defaultValue:t.description,readOnly:!0}),Object(j.jsx)(K,{})]}):null,Object(j.jsx)("div",{id:"admin-container"})]})}var te=function(){var e=Object(a.useContext)(m),t=e.setUserIP,n=e.modalData;return Object(a.useEffect)((function(){fetch("https://api.ipify.org?format=json").then((function(e){return e.json()})).then((function(e){return t(e)}))}),[]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(W,{}),Object(j.jsx)($,{}),Object(j.jsx)(ee,{}),Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/collection/:id",component:H}),Object(j.jsx)(i.a,{exact:!0,path:"/latest",component:G}),Object(j.jsx)(i.a,{exact:!0,path:"/profile",component:Z}),Object(j.jsx)(i.a,{exact:!0,path:"/",component:X})]}),Object(j.jsx)(J,{data:n})]})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(h.a,{basename:"/book-collection",children:Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(b,{children:Object(j.jsx)(te,{})})})}),document.getElementById("root")),ne()}],[[47,1,2]]]);
//# sourceMappingURL=main.0c6ff3f7.chunk.js.map